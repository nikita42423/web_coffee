<div class="card h-100 shadow-sm">
    <div class="card-body">
        <h5 class="card-title">{{ book.title }}</h5>
        <h6 class="card-subtitle mb-2 text-muted">{{ book.author }}</h6>
        <p class="card-text">{{ book.description|truncatechars:100 }}</p>
        <div class="mb-3">
            <span class="badge bg-primary">Рейтинг: {{ book.average_rating|default:"-"|floatformat:1 }}</span>
            <span class="badge bg-secondary">{{ book.created_at|date:"d.m.Y" }}</span>
        </div>
        <div class="d-flex flex-wrap gap-1 mb-3">
            {% if book.has_subtitles %}
            <span class="badge bg-info">Субтитры</span>
            {% endif %}
            {% if book.has_sign_language %}
            <span class="badge bg-warning">Жестовый перевод</span>
            {% endif %}
            {% if book.has_audio_description %}
            <span class="badge bg-success">Аудиоописание</span>
            {% endif %}
        </div>
        <div class="d-flex flex-wrap gap-1 mb-3">
            {% for tag in book.get_tags_list|slice:":3" %}
            <span class="badge bg-light text-dark border">{{ tag }}</span>
            {% endfor %}
        </div>
        <a href="{% url 'books:book_detail' book.id %}" class="btn btn-outline-primary btn-sm">Подробнее</a>
    </div>
</div>
