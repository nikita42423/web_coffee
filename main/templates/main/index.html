{% extends 'base.html' %}

{% block title %}Access - –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞{% endblock %}

{% block content %}
<div class="container">
    <!-- –ì–µ—Ä–æ–π-—Å–µ–∫—Ü–∏—è —Å –ø–æ–∏—Å–∫–æ–º -->
    <div class="search-hero">
        <div class="text-center mb-4">
            <h1 class="display-4 fw-bold">Access</h1>
            <p class="lead">–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –¥–ª—è –ª—é–¥–µ–π —Å –Ω–∞—Ä—É—à–µ–Ω–∏—è–º–∏ —Å–ª—É—Ö–∞</p>
        </div>

        <form action="{% url 'search' %}" method="GET" class="mb-5">
            <div class="row g-3 justify-content-center">
                <div class="col-md-8">
                    <div class="input-group input-group-lg">
                        <input type="text" name="q" class="form-control"
                               placeholder="–ù–∞–π–¥–∏—Ç–µ –∫–Ω–∏–≥—É, —Ñ–∏–ª—å–º –∏–ª–∏ –∫—É—Ä—Å..."
                               aria-label="–ü–æ–∏—Å–∫" autofocus>
                        <button class="btn btn-primary" type="submit">
                            <i class="bi bi-search"></i> –ù–∞–π—Ç–∏
                        </button>
                    </div>
                </div>
            </div>
            <div class="row g-3 justify-content-center mt-3">
                <div class="col-auto">
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="type" id="type_all" value="all" checked>
                        <label class="form-check-label" for="type_all">–í—Å–µ</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="type" id="type_books" value="books">
                        <label class="form-check-label" for="type_books">–ö–Ω–∏–≥–∏</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="type" id="type_films" value="films">
                        <label class="form-check-label" for="type_films">–§–∏–ª—å–º—ã</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="type" id="type_courses" value="courses">
                        <label class="form-check-label" for="type_courses">–ö—É—Ä—Å—ã</label>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <!-- –ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏ -->
    <div class="row mb-5">
        <div class="col-12 mb-4">
            <h2 class="text-center">–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
        </div>
        <div class="col-md-3 col-sm-6 mb-3">
            <a href="/books/?has_audio=true" class="card text-decoration-none h-100 text-center border-primary">
                <div class="card-body">
                    <div class="display-4 mb-3">üéß</div>
                    <h5 class="card-title">–ö–Ω–∏–≥–∏ —Å –∞—É–¥–∏–æ</h5>
                    <p class="card-text text-muted">–ê—É–¥–∏–æ–≤–µ—Ä—Å–∏–∏ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è</p>
                </div>
            </a>
        </div>
        <div class="col-md-3 col-sm-6 mb-3">
            <a href="/films/?has_sign_language=true" class="card text-decoration-none h-100 text-center border-success">
                <div class="card-body">
                    <div class="display-4 mb-3">ü§ü</div>
                    <h5 class="card-title">–§–∏–ª—å–º—ã —Å –∂–µ—Å—Ç–æ–≤—ã–º –ø–µ—Ä–µ–≤–æ–¥–æ–º</h5>
                    <p class="card-text text-muted">–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ —è–∑—ã–∫ –∂–µ—Å—Ç–æ–≤</p>
                </div>
            </a>
        </div>
        <div class="col-md-3 col-sm-6 mb-3">
            <a href="/education/?has_subtitles=true" class="card text-decoration-none h-100 text-center border-info">
                <div class="card-body">
                    <div class="display-4 mb-3">üìù</div>
                    <h5 class="card-title">–ö—É—Ä—Å—ã —Å —Å—É–±—Ç–∏—Ç—Ä–∞–º–∏</h5>
                    <p class="card-text text-muted">–¢–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –≤–∏–¥–µ–æ</p>
                </div>
            </a>
        </div>
        <div class="col-md-3 col-sm-6 mb-3">
            <a href="/forum/" class="card text-decoration-none h-100 text-center border-warning">
                <div class="card-body">
                    <div class="display-4 mb-3">üí¨</div>
                    <h5 class="card-title">–§–æ—Ä—É–º</h5>
                    <p class="card-text text-muted">–û–±—â–µ–Ω–∏–µ –∏ –æ–±–º–µ–Ω –æ–ø—ã—Ç–æ–º</p>
                </div>
            </a>
        </div>
    </div>

    <!-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã -->
    <div class="row">
        <div class="col-12 mb-4">
            <h2>–ù–µ–¥–∞–≤–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ</h2>
        </div>

        <!-- –ö–Ω–∏–≥–∏ -->
        <div class="col-md-4 mb-4">
            <div class="card h-100 content-card">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0"><i class="bi bi-book"></i> –ö–Ω–∏–≥–∏</h5>
                </div>
                <div class="card-body">
                    {% if recent_books %}
                        {% for book in recent_books %}
                        <div class="mb-3">
                            <h6><a href="{% url 'books:book_detail' book.id %}" class="text-decoration-none">{{ book.title }}</a></h6>
                            <p class="text-muted small">{{ book.author }}</p>
                            <div class="d-flex">
                                {% if book.has_audio %}<span class="badge bg-info me-1">üéß –ê—É–¥–∏–æ</span>{% endif %}
                                {% if book.has_subtitles %}<span class="badge bg-secondary">üìù –°—É–±—Ç–∏—Ç—Ä—ã</span>{% endif %}
                            </div>
                        </div>
                        {% endfor %}
                    {% else %}
                        <p class="text-muted">–ö–Ω–∏–≥–∏ –ø–æ–∫–∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã.</p>
                    {% endif %}
                </div>
                <div class="card-footer">
                    <a href="/books/" class="btn btn-outline-primary btn-sm">–í—Å–µ –∫–Ω–∏–≥–∏</a>
                </div>
            </div>
        </div>

        <!-- –§–∏–ª—å–º—ã -->
        <div class="col-md-4 mb-4">
            <div class="card h-100 content-card">
                <div class="card-header bg-success text-white">
                    <h5 class="mb-0"><i class="bi bi-film"></i> –§–∏–ª—å–º—ã</h5>
                </div>
                <div class="card-body">
                    {% if recent_films %}
                        {% for film in recent_films %}
                        <div class="mb-3">
                            <h6><a href="/films/{{ film.id }}/" class="text-decoration-none">{{ film.title }}</a></h6>
                            <p class="text-muted small">{{ film.director }}</p>
                            <div class="d-flex">
                                {% if film.has_subtitles %}<span class="badge bg-info me-1">üìù –°—É–±—Ç–∏—Ç—Ä—ã</span>{% endif %}
                                {% if film.has_sign_language %}<span class="badge bg-warning">ü§ü –ñ–µ—Å—Ç–æ–≤—ã–π —è–∑—ã–∫</span>{% endif %}
                            </div>
                        </div>
                        {% endfor %}
                    {% else %}
                        <p class="text-muted">–§–∏–ª—å–º—ã –ø–æ–∫–∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã.</p>
                    {% endif %}
                </div>
                <div class="card-footer">
                    <a href="/films/" class="btn btn-outline-success btn-sm">–í—Å–µ —Ñ–∏–ª—å–º—ã</a>
                </div>
            </div>
        </div>

        <!-- –ö—É—Ä—Å—ã -->
        <div class="col-md-4 mb-4">
            <div class="card h-100 content-card">
                <div class="card-header bg-info text-white">
                    <h5 class="mb-0"><i class="bi bi-mortarboard"></i> –ö—É—Ä—Å—ã</h5>
                </div>
                <div class="card-body">
                    {% if recent_courses %}
                        {% for course in recent_courses %}
                        <div class="mb-3">
                            <h6><a href="/education/{{ course.id }}/" class="text-decoration-none">{{ course.title }}</a></h6>
                            <p class="text-muted small">{{ course.instructor }}</p>
                            <div class="d-flex">
                                {% if course.has_subtitles %}<span class="badge bg-info me-1">üìù –°—É–±—Ç–∏—Ç—Ä—ã</span>{% endif %}
                                {% if course.has_transcript %}<span class="badge bg-secondary">üìÑ –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç</span>{% endif %}
                            </div>
                        </div>
                        {% endfor %}
                    {% else %}
                        <p class="text-muted">–ö—É—Ä—Å—ã –ø–æ–∫–∞ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã.</p>
                    {% endif %}
                </div>
                <div class="card-footer">
                    <a href="/education/" class="btn btn-outline-info btn-sm">–í—Å–µ –∫—É—Ä—Å—ã</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
